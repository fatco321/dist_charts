import{f as i,j as d,r as E,k as b,p as O,c as w,o as T,n as U,l as x,u as L,m as e,q as v,F as N,v as P,x as I,y as A,z as k,A as R}from"./@vue-BhxFYbew.js";import{T as z,E as B}from"./vue-echarts-DZ4VwgDl.js";import{u as q,a as V,b as j,c as D,d as M,e as H}from"./echarts-CaWp4BWr.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CLhiKu-d.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function l(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(n){if(n.ep)return;n.ep=!0;const a=l(n);fetch(n.href,a)}})();const S=(m,o)=>{const l=m.__vccOpts||m;for(const[u,n]of o)l[u]=n;return l},K={};function W(m,o){return i(),d("button",null,[E(m.$slots,"default",{},void 0)])}const C=S(K,[["render",W],["__scopeId","data-v-5da76519"]]),X={key:0,class:"container__alert"},Y={class:"container_btn"},G={__name:"Diagramm",props:["data"],setup(m){const o=m,l=b([{name:"СОУТ",targetValue:3e5},{name:"Обучение",targetValue:18e5},{name:"Закупка СИЗ",targetValue:1e6},{name:"Модернизация мест отдыха работников",targetValue:75e4},{name:"Закупка агитационных плакатов",targetValue:124e3},{name:"Закупка знаков безопасности",targetValue:26e3}]);q([V,j,D,M,H]),O(z,"dark");const u=b(null),n=(s,t,r)=>r==="СОУТ"&&s>t?"#e74c3c":s===t?"#2ecc71":s>t*.5&&s<t*.99?"#f39c12":(s>t||s<t*.5,"#e74c3c"),a=(s,t,r)=>r==="СОУТ"&&s>t?"Вы заложили на мероприятие слишком много денег.<br> Обратите внимание, что часть сотрудников примут только 1 сентября 2025 года,<br> а на проведение СОУТ у вас есть 12 месяцев с момента приема на работу. <br>Поэтому часть рабочих мест можно оценить в следующем году.":s===t?"Бюджет спланирован верно":s>=t*.5&&s<=t*.99?"Вы не до конца освоили бюджет на мероприятие":s>t?"Вы заложили на мероприятие слишком много денег":s<=t*.5?"Вы заложили на мероприятие слишком мало денег":"Неизвестный сектор",c=s=>new Intl.NumberFormat("ru-RU").format(s),g=()=>{location.reload()},p=w(()=>Object.values(o.data).some(s=>s===0)),$=w(()=>[{value:o.data.sout,name:"СОУТ"},{value:o.data.training,name:"Обучение"},{value:o.data.equipment,name:"Закупку СИЗ"},{value:o.data.restArea,name:"Модернизацию мест отдыха работников"},{value:o.data.posters,name:"Закупку агитационных плакатов"},{value:o.data.signs,name:"Закупку знаков безопасности"}].filter(t=>t.value===0));return T(()=>{U(()=>{const s=[{value:o.data.sout,name:"СОУТ"},{value:o.data.training,name:"Обучение"},{value:o.data.equipment,name:"Закупка СИЗ"},{value:o.data.restArea,name:"Модернизация мест отдыха работников"},{value:o.data.posters,name:"Закупка агитационных плакатов"},{value:o.data.signs,name:"Закупка знаков безопасности"}].filter(t=>t.value>0);s.forEach(t=>{const r=l.value.find(f=>f.name===t.name);r&&(t.itemStyle={color:n(t.value,r.targetValue,t.name)})}),u.value={backgroundColor:"transparent",title:{text:"Затраты",subtext:"Вы распределили бюджет. Наводите на каждый сектор, чтобы увидеть пояснения",left:"center",textStyle:{color:"black",fontSize:"1.5rem"},subtextStyle:{color:"black",fontSize:"1.1rem"}},tooltip:{trigger:"item",formatter:function(t){const r=l.value.find(f=>f.name===t.name);return r?a(t.value,r.targetValue,t.name):"Неизвестный сектор"},textStyle:{fontSize:14},position:function(t,r,f,h,_){const y={top:"50%"};return y[["left","right"][+(t[0]<_.viewSize[0]/2)]]="10%",y}},series:[{name:"Затраты",type:"pie",radius:"55%",center:["50%","55%"],data:s,label:{show:!0,position:"outside",rotate:!1,formatter:function(t){const r=c(t.value),f=t.name.split(" "),h=[];let _="";return f.forEach((y,F)=>{_.length+y.length+1<=20?_+=(_?" ":"")+y:(h.push(_),_=y),F===f.length-1&&h.push(_)}),`${h.join(`
`)}
${r} руб`},color:"#000",align:"center",verticalAlign:"middle",lineHeight:16,fontSize:11,rich:{normal:{fontSize:12,lineHeight:16}}},labelLine:{show:!0,length:50,length2:30,smooth:.2},itemStyle:{borderColor:"#fff",borderWidth:3},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:1,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}})}),(s,t)=>(i(),d(N,null,[x(L(B),{class:"chart",option:u.value,autoresize:""},null,8,["option"]),p.value?(i(),d("div",X,[e("h3",null,[t[0]||(t[0]=v(" Обратите внимание, вы не распределили бюджет на ")),(i(!0),d(N,null,P($.value,r=>(i(),d("span",null,k(r.name)+", ",1))),256)),t[1]||(t[1]=v(" которые нужно провести в 2025 году. Пройдите задание еще раз, чтобы распределить весь бюджет. "))])])):I("",!0),e("div",Y,[x(C,{onClick:g},{default:A(()=>t[2]||(t[2]=[v("Попробовать еще раз")])),_:1})])],64))}},J=S(G,[["__scopeId","data-v-cd246716"]]),Q={class:"container"},Z={__name:"Popup",emits:["start"],setup(m,{emit:o}){const l=o,u=()=>{l("start")};return(n,a)=>(i(),d("div",Q,[a[0]||(a[0]=e("h2",null,"Выполните задание",-1)),a[1]||(a[1]=e("p",null," Распределите бюджет и вводите суммы в ячейки в рублях без сокращений. Например, «300 000». ",-1)),e("div",{class:"container_bnt"},[e("button",{onClick:u},"OK")])]))}},tt=S(Z,[["__scopeId","data-v-ef6c1d93"]]),et={class:"container"},nt={class:"container__total"},st={class:"container__table"},rt={class:"table"},ot=["value"],at=["value"],lt=["value"],ut=["value"],it=["value"],dt=["value"],pt={key:0,class:"container_btn"},mt=4e6,ct={__name:"Table",emits:["update-expenses"],setup(m,{emit:o}){const l=o,u=b(mt),n=b({sout:0,training:0,equipment:0,restArea:0,posters:0,signs:0}),a=w(()=>Object.values(n.value).reduce((s,t)=>s+t,0)),c=w(()=>u.value-a.value),g=w(()=>Object.values(n.value).some(s=>s>0));function p(s,t){let r=t.target.value.replace(/\s+/g,"");r=Math.abs(parseFloat(r))||0;const f=Math.min(r,c.value+n.value[s]);n.value[s]=f,t.target.value=new Intl.NumberFormat("ru-RU").format(f)}function $(){l("update-expenses",{...n.value})}return(s,t)=>(i(),d("div",et,[e("div",nt," Бюджет : "+k(new Intl.NumberFormat("ru-RU").format(c.value))+" руб. ",1),e("div",st,[e("table",rt,[t[18]||(t[18]=e("thead",null,[e("tr",null,[e("th",null,"Мероприятия"),e("th",null,"Затраты")])],-1)),e("tbody",null,[e("tr",null,[t[7]||(t[7]=e("td",null,"СОУТ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.sout),onInput:t[0]||(t[0]=r=>p("sout",r))},null,40,ot),t[6]||(t[6]=v(" рублей "))])]),e("tr",null,[t[9]||(t[9]=e("td",{class:"table__title"},"Обучение",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.training),onInput:t[1]||(t[1]=r=>p("training",r))},null,40,at),t[8]||(t[8]=v(" рублей "))])]),e("tr",null,[t[11]||(t[11]=e("td",{class:"table__title"},"Закупка СИЗ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.equipment),onInput:t[2]||(t[2]=r=>p("equipment",r))},null,40,lt),t[10]||(t[10]=v(" рублей "))])]),e("tr",null,[t[13]||(t[13]=e("td",{class:"table__title"}," Модернизация мест отдыха работников ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.restArea),onInput:t[3]||(t[3]=r=>p("restArea",r))},null,40,ut),t[12]||(t[12]=v(" рублей "))])]),e("tr",null,[t[15]||(t[15]=e("td",{class:"table__title"}," Закупка агитационных плакатов ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.posters),onInput:t[4]||(t[4]=r=>p("posters",r))},null,40,it),t[14]||(t[14]=v(" рублей "))])]),e("tr",null,[t[17]||(t[17]=e("td",{class:"table__title"}," Закупка знаков безопасности ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.signs),onInput:t[5]||(t[5]=r=>p("signs",r))},null,40,dt),t[16]||(t[16]=v(" рублей "))])])])])]),g.value?(i(),d("div",pt,[x(C,{onClick:$},{default:A(()=>t[19]||(t[19]=[v("Проверить")])),_:1})])):I("",!0)]))}},ft=S(ct,[["__scopeId","data-v-916efaec"]]),vt={class:"container"},_t={key:0,class:"container_popup"},bt={key:1,class:"container_table"},gt={key:2,class:"container_diagram"},yt={__name:"App",setup(m){const o=b(!1),l=b(!0),u=b(!0),n=b({}),a=()=>{l.value=!1},c=g=>{n.value=g,o.value=!0,u.value=!1};return(g,p)=>(i(),d(N,null,[e("div",vt,[l.value?(i(),d("div",_t,[x(tt,{onStart:a})])):I("",!0),u.value?(i(),d("div",bt,[x(ft,{onUpdateExpenses:c})])):I("",!0),o.value?(i(),d("div",gt,[x(J,{data:n.value},null,8,["data"])])):I("",!0)]),p[0]||(p[0]=e("footer",null,null,-1))],64))}},xt=S(yt,[["__scopeId","data-v-078f4f38"]]);R(xt).mount("#app");
//# sourceMappingURL=index-DBVintWx.js.map
