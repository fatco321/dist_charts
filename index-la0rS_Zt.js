import{f,j as v,r as F,k as b,p as k,o as E,n as A,l as x,u as O,m as e,q as h,F as N,v as _,c as S,x as T,y as w,z as U}from"./@vue-DN1DydKA.js";import{T as P,E as R}from"./vue-echarts-Diy79mo_.js";import{u as z,a as B,b as L,c as V,d as q,e as j}from"./echarts-CaWp4BWr.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CLhiKu-d.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const I=(m,l)=>{const i=m.__vccOpts||m;for(const[d,n]of l)i[d]=n;return i},D={};function M(m,l){return f(),v("button",null,[F(m.$slots,"default",{},void 0)])}const $=I(D,[["render",M],["__scopeId","data-v-5da76519"]]),H={class:"container_btn"},K={__name:"Diagramm",props:["data"],setup(m){const l=m,i=b([{name:"СОУТ",targetValue:3e5},{name:"Обучение",targetValue:18e5},{name:"Закупка СИЗ",targetValue:1e6},{name:"Модернизация мест отдыха работников",targetValue:75e4},{name:"Закупка агитационных плакатов",targetValue:124e3},{name:"Закупка знаков безопасности",targetValue:26e3}]);z([B,L,V,q,j]),k(P,"dark");const d=b(null),n=(o,s,a)=>a==="СОУТ"&&o>s?"#e74c3c":o===s?"#2ecc71":o>s*.5&&o<s*.99?"#f39c12":(o>s||o<s*.5,"#e74c3c"),r=(o,s,a)=>a==="СОУТ"&&o>s?"Вы заложили на мероприятие слишком много денег.<br> Обратите внимание, что часть сотрудников примут только 1 сентября 2025 года,<br> а на проведение СОУТ у вас есть 12 месяцев с момента приема на работу. <br>Поэтому часть рабочих мест можно оценить в следующем году.":o===s?"Бюджет спланирован верно":o>=s*.5&&o<=s*.99?"Вы не до конца освоили бюджет на мероприятие":o>s?"Вы заложили на мероприятие слишком много денег":o<=s*.5?"Вы заложили на мероприятие слишком мало денег":"Неизвестный сектор",c=o=>new Intl.NumberFormat("ru-RU").format(o),g=()=>{location.reload()};return E(()=>{A(()=>{const o=[{value:l.data.sout,name:"СОУТ"},{value:l.data.training,name:"Обучение"},{value:l.data.equipment,name:"Закупка СИЗ"},{value:l.data.restArea,name:"Модернизация мест отдыха работников"},{value:l.data.posters,name:"Закупка агитационных плакатов"},{value:l.data.signs,name:"Закупка знаков безопасности"}].filter(s=>s.value>0);o.forEach(s=>{const a=i.value.find(t=>t.name===s.name);a&&(s.itemStyle={color:n(s.value,a.targetValue,s.name)})}),d.value={backgroundColor:"transparent",title:{text:"Затраты",subtext:"Вы распределили бюджет. Наводите на каждый сектор, чтобы увидеть пояснения",left:"center",textStyle:{color:"black",fontSize:"1.5rem"},subtextStyle:{color:"black",fontSize:"1.1rem"}},tooltip:{trigger:"item",formatter:function(s){const a=i.value.find(t=>t.name===s.name);return a?r(s.value,a.targetValue,s.name):"Неизвестный сектор"},textStyle:{fontSize:14},position:function(s,a,t,u,p){const y={top:"35%"};return y[["left","right"][+(s[0]<p.viewSize[0]/2)]]="10%",y}},series:[{name:"Затраты",type:"pie",radius:"55%",center:["50%","55%"],data:o,label:{show:!0,position:"outside",rotate:!1,formatter:function(s){const a=c(s.value),t=s.name.split(" "),u=[];let p="";return t.forEach((y,C)=>{p.length+y.length+1<=20?p+=(p?" ":"")+y:(u.push(p),p=y),C===t.length-1&&u.push(p)}),`${u.join(`
`)}
${a} руб`},color:"#000",align:"center",verticalAlign:"middle",lineHeight:16,fontSize:11,rich:{normal:{fontSize:12,lineHeight:16}}},labelLine:{show:!0,length:60,length2:20,smooth:.2},itemStyle:{borderColor:"#fff",borderWidth:3},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:1,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}})}),(o,s)=>(f(),v(N,null,[x(O(R),{class:"chart",option:d.value,autoresize:""},null,8,["option"]),e("div",H,[x($,{onClick:g},{default:h(()=>s[0]||(s[0]=[_("Попробовать еще раз")])),_:1})])],64))}},W=I(K,[["__scopeId","data-v-3630d58f"]]),X={class:"container"},Y={__name:"Popup",emits:["start"],setup(m,{emit:l}){const i=l,d=()=>{i("start")};return(n,r)=>(f(),v("div",X,[r[0]||(r[0]=e("h2",null,"Выполните задание",-1)),r[1]||(r[1]=e("p",null," Распределите бюджет и вводите суммы в ячейки в рублях без сокращений. Например, «300 000». ",-1)),e("div",{class:"container_bnt"},[e("button",{onClick:d},"OK")])]))}},G=I(Y,[["__scopeId","data-v-ef6c1d93"]]),J={class:"container"},Q={class:"container__total"},Z={class:"container__table"},tt={class:"table"},et=["value"],nt=["value"],st=["value"],ot=["value"],rt=["value"],lt=["value"],at={key:0,class:"container_btn"},ut=4e6,it={__name:"Table",emits:["update-expenses"],setup(m,{emit:l}){const i=l,d=b(ut),n=b({sout:0,training:0,equipment:0,restArea:0,posters:0,signs:0}),r=S(()=>Object.values(n.value).reduce((a,t)=>a+t,0)),c=S(()=>d.value-r.value),g=S(()=>Object.values(n.value).some(a=>a>0));function o(a,t){let u=t.target.value.replace(/\s+/g,"");u=Math.abs(parseFloat(u))||0;const p=Math.min(u,c.value+n.value[a]);n.value[a]=p,t.target.value=new Intl.NumberFormat("ru-RU").format(p)}function s(){i("update-expenses",{...n.value})}return(a,t)=>(f(),v("div",J,[e("div",Q," Бюджет : "+T(new Intl.NumberFormat("ru-RU").format(c.value))+" руб. ",1),e("div",Z,[e("table",tt,[t[18]||(t[18]=e("thead",null,[e("tr",null,[e("th",null,"Мероприятия"),e("th",null,"Затраты")])],-1)),e("tbody",null,[e("tr",null,[t[7]||(t[7]=e("td",null,"СОУТ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.sout),onInput:t[0]||(t[0]=u=>o("sout",u))},null,40,et),t[6]||(t[6]=_(" рублей "))])]),e("tr",null,[t[9]||(t[9]=e("td",{class:"table__title"},"Обучение",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.training),onInput:t[1]||(t[1]=u=>o("training",u))},null,40,nt),t[8]||(t[8]=_(" рублей "))])]),e("tr",null,[t[11]||(t[11]=e("td",{class:"table__title"},"Закупка СИЗ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.equipment),onInput:t[2]||(t[2]=u=>o("equipment",u))},null,40,st),t[10]||(t[10]=_(" рублей "))])]),e("tr",null,[t[13]||(t[13]=e("td",{class:"table__title"}," Модернизация мест отдыха работников ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.restArea),onInput:t[3]||(t[3]=u=>o("restArea",u))},null,40,ot),t[12]||(t[12]=_(" рублей "))])]),e("tr",null,[t[15]||(t[15]=e("td",{class:"table__title"}," Закупка агитационных плакатов ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.posters),onInput:t[4]||(t[4]=u=>o("posters",u))},null,40,rt),t[14]||(t[14]=_(" рублей "))])]),e("tr",null,[t[17]||(t[17]=e("td",{class:"table__title"}," Закупка знаков безопасности ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(n.value.signs),onInput:t[5]||(t[5]=u=>o("signs",u))},null,40,lt),t[16]||(t[16]=_(" рублей "))])])])])]),g.value?(f(),v("div",at,[x($,{onClick:s},{default:h(()=>t[19]||(t[19]=[_("Проверить")])),_:1})])):w("",!0)]))}},dt=I(it,[["__scopeId","data-v-916efaec"]]),pt={class:"container"},mt={key:0,class:"container_popup"},ct={key:1,class:"container_table"},ft={key:2,class:"container_diagram"},vt={__name:"App",setup(m){const l=b(!1),i=b(!0),d=b(!0),n=b({}),r=()=>{i.value=!1},c=g=>{n.value=g,l.value=!0,d.value=!1};return(g,o)=>(f(),v(N,null,[e("div",pt,[i.value?(f(),v("div",mt,[x(G,{onStart:r})])):w("",!0),d.value?(f(),v("div",ct,[x(dt,{onUpdateExpenses:c})])):w("",!0),l.value?(f(),v("div",ft,[x(W,{data:n.value},null,8,["data"])])):w("",!0)]),o[0]||(o[0]=e("footer",null,null,-1))],64))}},_t=I(vt,[["__scopeId","data-v-078f4f38"]]);U(_t).mount("#app");
//# sourceMappingURL=index-la0rS_Zt.js.map
