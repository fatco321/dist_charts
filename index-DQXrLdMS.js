import{f,j as v,r as C,k as _,p as A,o as E,n as h,l as b,u as k,m as e,q as S,F as N,v as c,c as w,x as O,y as x,z as T}from"./@vue-DN1DydKA.js";import{T as U,E as R}from"./vue-echarts-Diy79mo_.js";import{u as B,a as P,b as z,c as V,d as q,e as L}from"./echarts-CaWp4BWr.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CLhiKu-d.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function u(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=u(s);fetch(s.href,r)}})();const g=(p,l)=>{const u=p.__vccOpts||p;for(const[i,s]of l)u[i]=s;return u},D={};function M(p,l){return f(),v("button",null,[C(p.$slots,"default",{},void 0)])}const $=g(D,[["render",M],["__scopeId","data-v-5da76519"]]),j={class:"container_btn"},H={__name:"Diagramm",props:["data"],setup(p){const l=p,u=_([{name:"СОУТ",targetValue:3e5},{name:"Обучение",targetValue:18e5},{name:"Закупка СИЗ",targetValue:1e6},{name:"Модернизация мест отдыха работников",targetValue:75e4},{name:"Закупка агитационных плакатов",targetValue:124e3},{name:"Закупка знаков безопасности",targetValue:26e3}]);B([P,z,V,q,L]),A(U,"dark");const i=_(null),s=(o,n,t)=>t==="СОУТ"&&o>n?"#e74c3c":o===n?"#2ecc71":o>n*.5&&o<n*.99?"#f39c12":(o>n||o<n*.5,"#e74c3c"),r=(o,n,t)=>t==="СОУТ"&&o>n?"Вы заложили на мероприятие слишком много денег.<br> Обратите внимание, что часть сотрудников примут только 1 сентября 2025 года,<br> а на проведение СОУТ у вас есть 12 месяцев с момента приема на работу. <br>Поэтому часть рабочих мест можно оценить в следующем году.":o===n?"Бюджет спланирован верно":o>=n*.5&&o<=n*.99?"Вы не до конца освоили бюджет на мероприятие":o>n?"Вы заложили на мероприятие слишком много денег":o<=n*.5?"Вы заложили на мероприятие слишком мало денег":"Неизвестный сектор",m=o=>new Intl.NumberFormat("ru-RU").format(o),d=()=>{location.reload()};return E(()=>{h(()=>{const o=[{value:l.data.sout,name:"СОУТ"},{value:l.data.training,name:"Обучение"},{value:l.data.equipment,name:"Закупка СИЗ"},{value:l.data.restArea,name:"Модернизация мест отдыха работников"},{value:l.data.posters,name:"Закупка агитационных плакатов"},{value:l.data.signs,name:"Закупка знаков безопасности"}];o.forEach(n=>{const t=u.value.find(a=>a.name===n.name);t&&(n.itemStyle={color:s(n.value,t.targetValue,n.name)})}),i.value={backgroundColor:"transparent",title:{text:"Затраты",subtext:"Вы распределили бюджет. Наводите на каждый сектор, чтобы увидеть пояснения",left:"center",textStyle:{color:"black",fontSize:"1.5rem"},subtextStyle:{color:"black",fontSize:"1.1rem"}},tooltip:{trigger:"item",formatter:function(n){const t=u.value.find(a=>a.name===n.name);return t?r(n.value,t.targetValue,n.name):"Неизвестный сектор"},textStyle:{fontSize:14},position:function(n,t,a,y,F){const I={top:"25%"};return I[["left","right"][+(n[0]<F.viewSize[0]/2)]]="10%",I}},series:[{name:"Затраты",type:"pie",radius:"55%",center:["50%","50%"],data:o,label:{show:!0,position:"outside",rotate:!1,formatter:function(n){const t=m(n.value);return`${n.name.split(" ").join(`
`)}
${t} руб`},color:"#000",align:"center",verticalAlign:"middle",lineHeight:16,rich:{normal:{fontSize:12,lineHeight:16}}},labelLine:{show:!0,length:30,length2:40},itemStyle:{borderColor:"#fff",borderWidth:3},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:1,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}})}),(o,n)=>(f(),v(N,null,[b(k(R),{class:"chart",option:i.value,autoresize:""},null,8,["option"]),e("div",j,[b($,{onClick:d},{default:S(()=>n[0]||(n[0]=[c("Начать заново")])),_:1})])],64))}},K=g(H,[["__scopeId","data-v-197fe25b"]]),W={class:"container"},X={__name:"Popup",emits:["start"],setup(p,{emit:l}){const u=l,i=()=>{u("start")};return(s,r)=>(f(),v("div",W,[r[0]||(r[0]=e("h2",null,"Выполните задание",-1)),r[1]||(r[1]=e("p",null," Распределите бюджет и вводите суммы в ячейки в рублях без сокращений. Например, «300 000». ",-1)),e("div",{class:"container_bnt"},[e("button",{onClick:i},"OK")])]))}},Y=g(X,[["__scopeId","data-v-ef6c1d93"]]),G={class:"container"},J={class:"container__total"},Q={class:"container__table"},Z={class:"table"},tt=["value"],et=["value"],nt=["value"],st=["value"],ot=["value"],rt=["value"],lt={class:"container_btn"},at=4e6,ut={__name:"Table",emits:["update-expenses"],setup(p,{emit:l}){const u=l,i=_(at),s=_({sout:0,training:0,equipment:0,restArea:0,posters:0,signs:0}),r=w(()=>Object.values(s.value).reduce((n,t)=>n+t,0)),m=w(()=>i.value-r.value);function d(n,t){let a=t.target.value.replace(/\s+/g,"");a=Math.abs(parseFloat(a))||0;const y=Math.min(a,m.value+s.value[n]);s.value[n]=y,t.target.value=new Intl.NumberFormat("ru-RU").format(y)}function o(){u("update-expenses",{...s.value})}return(n,t)=>(f(),v("div",G,[e("div",J," Бюджет : "+O(new Intl.NumberFormat("ru-RU").format(m.value))+" руб. ",1),e("div",Q,[e("table",Z,[t[18]||(t[18]=e("thead",null,[e("tr",null,[e("th",null,"Мероприятия"),e("th",null,"Затраты")])],-1)),e("tbody",null,[e("tr",null,[t[7]||(t[7]=e("td",null,"СОУТ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(s.value.sout),onInput:t[0]||(t[0]=a=>d("sout",a))},null,40,tt),t[6]||(t[6]=c(" рублей "))])]),e("tr",null,[t[9]||(t[9]=e("td",{class:"table__title"},"Обучение",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(s.value.training),onInput:t[1]||(t[1]=a=>d("training",a))},null,40,et),t[8]||(t[8]=c(" рублей "))])]),e("tr",null,[t[11]||(t[11]=e("td",{class:"table__title"},"Закупка СИЗ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(s.value.equipment),onInput:t[2]||(t[2]=a=>d("equipment",a))},null,40,nt),t[10]||(t[10]=c(" рублей "))])]),e("tr",null,[t[13]||(t[13]=e("td",{class:"table__title"}," Модернизация мест отдыха работников ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(s.value.restArea),onInput:t[3]||(t[3]=a=>d("restArea",a))},null,40,st),t[12]||(t[12]=c(" рублей "))])]),e("tr",null,[t[15]||(t[15]=e("td",{class:"table__title"}," Закупка агитационных плакатов ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(s.value.posters),onInput:t[4]||(t[4]=a=>d("posters",a))},null,40,ot),t[14]||(t[14]=c(" рублей "))])]),e("tr",null,[t[17]||(t[17]=e("td",{class:"table__title"}," Закупка знаков безопасности ",-1)),e("td",null,[e("input",{class:"input",type:"text",value:new Intl.NumberFormat("ru-RU").format(s.value.signs),onInput:t[5]||(t[5]=a=>d("signs",a))},null,40,rt),t[16]||(t[16]=c(" рублей "))])])])])]),e("div",lt,[b($,{onClick:o},{default:S(()=>t[19]||(t[19]=[c("Проверить")])),_:1})])]))}},it=g(ut,[["__scopeId","data-v-b19ea4e5"]]),dt={class:"container"},pt={key:0,class:"container_popup"},mt={key:1,class:"container_table"},ct={key:2,class:"container_diagram"},ft={__name:"App",setup(p){const l=_(!1),u=_(!0),i=_(!0),s=_({}),r=()=>{u.value=!1},m=d=>{s.value=d,l.value=!0,i.value=!1};return(d,o)=>(f(),v(N,null,[e("div",dt,[u.value?(f(),v("div",pt,[b(Y,{onStart:r})])):x("",!0),i.value?(f(),v("div",mt,[b(it,{onUpdateExpenses:m})])):x("",!0),l.value?(f(),v("div",ct,[b(K,{data:s.value},null,8,["data"])])):x("",!0)]),o[0]||(o[0]=e("footer",null,null,-1))],64))}},vt=g(ft,[["__scopeId","data-v-078f4f38"]]);T(vt).mount("#app");
//# sourceMappingURL=index-DQXrLdMS.js.map
